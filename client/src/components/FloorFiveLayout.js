import React, { useEffect, useState } from "react";
import "./styles/DashBoard.css";

const FloorFiveLayout = ({ setSelectedDeskID, ...props }) => {
  const [style, setStyles] = useState([]);
  const [selectedDesk, setDesk] = useState();
  const desksOnFloorCount = props.desksOnFloorCount;
  let occupiedDesks = [];
  occupiedDesks = props.occupiedDesks;
  const desk_map = [
    { id: 1, d: "M8.57 5.66H27.9v38.33H8.57z" },
    { id: 2, d: "M73.23 5.66h19.33v38.33H73.23z" },
    { id: 3, d: "M93.23 5.66h19.33v38.33H93.23z" },
    { id: 4, d: "M123.9 75.33h19.33v38.33H123.9z" },
    { id: 5, d: "M73.23 75.33h19.33v38.33H73.23z" },
    { id: 6, d: "M8.57 75.33H27.9v38.33H8.57z" },
    { id: 7, d: "M183.9 5.66h19.33v38.33H183.9z" },
    { id: 8, d: "M245.23 5.66h19.33v38.33h-19.33z" },
    { id: 9, d: "M265.23 5.66h19.33v38.33h-19.33z" },
    { id: 10, d: "M325.23 5.66h19.33v38.33h-19.33z" },
    { id: 11, d: "M355.57 5.66h19.33v38.33h-19.33z" },
    { id: 12, d: "M418.23 5.66h19.33v38.33h-19.33z" },
    { id: 13, d: "M438.23 5.66h19.33v38.33h-19.33z" },
    { id: 14, d: "M500.73 5.66h19.33v38.33h-19.33z" },
    {
      id: 15,
      d: "M558.22 138.03h19.33v38.33h-19.33z",
      transform: "rotate(90 567.79 90.1)",
    },
    {
      id: 16,
      d: "M342.35 363.28h19.33v38.33h-19.33z",
      transform: "rotate(-90 284.92 382.54)",
    },
    {
      id: 17,
      d: "M377.1 334.82h19.33v38.33H377.1z",
      transform: "rotate(18.49 559.007 114.157)",
    },
    {
      id: 18,
      d: "M399.26 342.65h19.33v38.33h-19.33z",
      transform: "rotate(18.49 581.183 121.962)",
    },
    {
      id: 19,
      d: "M456.35 363.28h19.33v38.33h-19.33z",
      transform: "rotate(-90 398.92 382.54)",
    },
    {
      id: 20,
      d: "M491.6 351.03h19.33v38.33H491.6z",
      transform: "rotate(180 467.665 336.695)",
    },
    {
      id: 21,
      d: "M567.76 351.03h19.33v38.33h-19.33z",
      transform: "rotate(180 543.83 336.695)",
    },
  ];

  useEffect(() => {
    console.log(desksOnFloorCount);
    console.log(typeof occupiedDesks[0]);
    let styles = [];
    console.log(occupiedDesks);
    for (let i = 0; i < desksOnFloorCount; i++) {
      if (occupiedDesks.includes(i + 1)) {
        styles[i] = "occupied";
      } else {
        styles[i] = "free";
      }
    }
    setStyles(styles);
    console.log(styles);
  }, [occupiedDesks]);

  const selectDesk = (e) => {
    setDesk(e.target.attributes.id.value);
    setSelectedDeskID(e.target.attributes.id.value);
  };
  return (
    <svg
      id="Layer_1"
      data-name="Layer 1"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 1045.23 343.54"
    >
      {desk_map.map((item) => {
        return (
          <path
            key={item["id"]}
            onClick={selectDesk}
            id={item["id"]}
            className={
              selectedDesk == item["id"] && !occupiedDesks.includes(item["id"])
                ? "selected"
                : style[item["id"] - 1]
            }
            d={item["d"]}
            transform={"transform" in item ? item["transform"] : null}
          />
        );
      })}
      {/* <path
        onClick={selectDesk}
        id="1"
        className={
          selectedDesk == 1 && !occupiedDesks.includes(1)
            ? "selected"
            : style[0]
        }
        d="M8.57 5.66H27.9v38.33H8.57z"
      />
      <path
        onClick={selectDesk}
        id="2"
        className={
          selectedDesk == 2 && !occupiedDesks.includes(2)
            ? "selected"
            : style[1]
        }
        d="M73.23 5.66h19.33v38.33H73.23z"
      />
      <path
        onClick={selectDesk}
        id="3"
        className={
          selectedDesk == 3 && !occupiedDesks.includes(3)
            ? "selected"
            : style[0]
        }
        d="M93.23 5.66h19.33v38.33H93.23z"
      />
      <path
        onClick={selectDesk}
        id="4"
        className={
          selectedDesk == 4 && !occupiedDesks.includes(4)
            ? "selected"
            : style[0]
        }
        d="M123.9 75.33h19.33v38.33H123.9z"
      />
      <path
        onClick={selectDesk}
        id="5"
        className={
          selectedDesk == 5 && !occupiedDesks.includes(5)
            ? "selected"
            : style[0]
        }
        d="M73.23 75.33h19.33v38.33H73.23z"
      />
      <path
        onClick={selectDesk}
        id="6"
        className={
          selectedDesk == 6 && !occupiedDesks.includes(6)
            ? "selected"
            : style[0]
        }
        d="M8.57 75.33H27.9v38.33H8.57z"
      />
      <path
        onClick={selectDesk}
        id="7"
        className={
          selectedDesk == 7 && !occupiedDesks.includes(7)
            ? "selected"
            : style[0]
        }
        d="M183.9 5.66h19.33v38.33H183.9z"
      />
      <path
        onClick={selectDesk}
        id="8"
        className={
          selectedDesk == 8 && !occupiedDesks.includes(8)
            ? "selected"
            : style[0]
        }
        d="M245.23 5.66h19.33v38.33h-19.33z"
      />
      <path
        onClick={selectDesk}
        id="9"
        className={
          selectedDesk == 9 && !occupiedDesks.includes(9)
            ? "selected"
            : style[0]
        }
        d="M265.23 5.66h19.33v38.33h-19.33z"
      />
      <path
        onClick={selectDesk}
        id="10"
        className={
          selectedDesk == 10 && !occupiedDesks.includes(10)
            ? "selected"
            : style[0]
        }
        d="M325.23 5.66h19.33v38.33h-19.33z"
      />
      <path
        onClick={selectDesk}
        id="11"
        className={
          selectedDesk == 11 && !occupiedDesks.includes(11)
            ? "selected"
            : style[0]
        }
        d="M355.57 5.66h19.33v38.33h-19.33z"
      />
      <path
        onClick={selectDesk}
        id="12"
        className={
          selectedDesk == 12 && !occupiedDesks.includes(12)
            ? "selected"
            : style[0]
        }
        d="M418.23 5.66h19.33v38.33h-19.33z"
      />
      <path
        onClick={selectDesk}
        id="13"
        className={
          selectedDesk == 13 && !occupiedDesks.includes(13)
            ? "selected"
            : style[0]
        }
        d="M438.23 5.66h19.33v38.33h-19.33z"
      />
      <path
        onClick={selectDesk}
        id="14"
        className={
          selectedDesk == 14 && !occupiedDesks.includes(14)
            ? "selected"
            : style[0]
        }
        d="M500.73 5.66h19.33v38.33h-19.33z"
      />
      <path
        onClick={selectDesk}
        id="15"
        className={
          selectedDesk == 15 && !occupiedDesks.includes(2)
            ? "selected"
            : style[0]
        }
        transform="rotate(90 567.79 90.1)"
        d="M558.22 138.03h19.33v38.33h-19.33z"
      />
      <path
        onClick={selectDesk}
        id="16"
        className={
          selectedDesk == 16 && !occupiedDesks.includes(16)
            ? "selected"
            : style[0]
        }
        transform="rotate(-90 284.92 382.54)"
        d="M342.35 363.28h19.33v38.33h-19.33z"
      />
      <path
        onClick={selectDesk}
        id="17"
        className={
          selectedDesk == 17 && !occupiedDesks.includes(17)
            ? "selected"
            : style[0]
        }
        transform="rotate(18.49 559.007 114.157)"
        d="M377.1 334.82h19.33v38.33H377.1z"
      />
      <path
        onClick={selectDesk}
        id="18"
        className={
          selectedDesk == 18 && !occupiedDesks.includes(18)
            ? "selected"
            : style[0]
        }
        transform="rotate(18.49 581.183 121.962)"
        d="M399.26 342.65h19.33v38.33h-19.33z"
      />
      <path
        onClick={selectDesk}
        id="19"
        className={
          selectedDesk == 19 && !occupiedDesks.includes(19)
            ? "selected"
            : style[0]
        }
        transform="rotate(-90 398.92 382.54)"
        d="M456.35 363.28h19.33v38.33h-19.33z"
      />
      <path
        onClick={selectDesk}
        id="20"
        className={
          selectedDesk == 20 && !occupiedDesks.includes(20)
            ? "selected"
            : style[0]
        }
        transform="rotate(180 467.665 336.695)"
        d="M491.6 351.03h19.33v38.33H491.6z"
      />
      <path
        onClick={selectDesk}
        id="21"
        className={
          selectedDesk == 21 && !occupiedDesks.includes(21)
            ? "selected"
            : style[0]
        }
        transform="rotate(180 543.83 336.695)"
        d="M567.76 351.03h19.33v38.33h-19.33z"
      /> */}
      <path
        className="cls-2"
        d="M930.16 309.93h9.33v-9.24H930c.09 3.16-.1 6.15.16 9.24ZM930.17 104.44c3.19 0 6.25.15 9.31 0v-9.27h-9.31ZM901.38 293.73v1.88c4.44.56 37.65.41 38.23-.2a4.76 4.76 0 0 0 .06-.87 3.86 3.86 0 0 0-.28-.81ZM832.09 295.63l2.11.45v13.85h2.41v-14.11h42.95v-2.13h-47.47ZM665.39 167.06H592.1v-29.49h-4.85v29.58H469v2.36h8.12v8.1h2.31v-8h52.67V199h-55.04c.07.89.12 1.55.2 2.46h55.08v9.44h4.5v-7h50.36v42.2H537l-.15-4.57h-4.47v27c1.07 0 2.09.13 3.1.13H666c.92 0 1.84-.09 2.7-.14v-22.11l-76.4-.35v-42l76.85.08v-2.77h28.46s-.09-1.68-.13-2.58h-49.93l.21-29.13h47.44v8.13c1-.07 2.55 0 2.55 0v-8.3h16.46v-2.36h-48.82Zm-129.12 31.62-.14-27.68 51.12-.07v27.82Zm51 65.9-51 .31-.12-13.68h51.12ZM665.05 251v13.9h-72.74c0-.48-.11-.87-.12-1.25V251.1c24.31-.1 48.47-.03 72.86-.1Zm-21.54-52.6-51.25.15v-27.7l51.25-.23ZM462.66 307.64V293.7c-4-.5-94-.34-95.83.16 0 .57.08 1.17.14 2h93.3v7.19c0 2.3-.12 4.58.09 6.79h7c-.06-.8-.1-1.4-.17-2.23Z"
        transform="translate(-67.2 -66.99)"
      />
      <path
        className="cls-2"
        d="M412.37 310.07a14.1 14.1 0 0 0 2.28.26c1 0 2-.33 3-.38 1.33-.07 2.66 0 4.13 0v-9.24h-9.43ZM421.74 95.15h-9.15v9.14h9.15ZM295.18 293.72c.06.81.1 1.45.15 2.3h47.59c-.39 6.3 1 12.3-1.44 18.22l2.32.71a16.68 16.68 0 0 0 1.61-7.35c-.14-3.12 0-6.24 0-9.35 0-.56-.17-1.25.09-1.65.78-1.21.26-2.05-.53-2.88ZM249.28 95.21h-9.21v9.11h9.21ZM367.18 255.73l.18.07H414v-52.36h7.75v-9.19h-9l-.57 2.22h-58.29v-26.82h28.66v10h2.38v-10.02h29.94v5.61h2.36v-5.8h5.9v-2.36H333v2.51h18.07v26.75a2.52 2.52 0 0 1-.72.24h-44.87a15.51 15.51 0 0 1-1.66-.15c-.07 0-.13-.1-.18-.15l-.17-.15v-26.51l2.35-.34c-.1-.8-.18-1.47-.27-2.17h-4.7v29.36h-51.24c-.13-.76-.24-1.37-.39-2.24h-6.93v-27l-2.3.07v36.44c2.6-.13 5.09.07 7.67 0 .05 1.05.11 2.12.11 3.17V232.4a2.36 2.36 0 0 0 1.81 2.52c1.71.55 3.41 1.13 5.11 1.7 3.17 1.07 6.45 2.17 9.73 3.13 8 2.33 15.39 4.35 22.55 6.16 5.45 1.38 11.05 2.49 15.81 3.4 3.35.64 6.78 1.15 10.1 1.65l3.58.55 1.87.29c3 .47 6.16 1 9.26 1.37 1.73.22 3.48.37 5.17.51l2.69.23 4.25.42 5.34.53c1.24.12 2.5.2 3.75.25q3.84.15 7.69.24l4.55.11 5.71.14a.56.56 0 0 1 .16.07Zm-6.12-2.34-4.55-.11c-2.56-.06-5.11-.14-7.67-.24-1.2 0-2.43-.13-3.64-.24l-5.32-.53-4.26-.42-2.71-.24c-1.67-.13-3.4-.28-5.08-.5-3.07-.4-6.19-.89-9.21-1.36l-1.87-.29-3.59-.55c-3.3-.49-6.71-1-10-1.64-4.73-.9-10.3-2-15.69-3.37-7.14-1.8-14.49-3.81-22.48-6.14-3.24-.94-6.5-2-9.65-3.11-1.71-.57-3.42-1.15-5.13-1.7-.43-.14-.44-.19-.43-.57V206.83c0-1.14-.06-2.28-.12-3.39q0-.58-.06-1.14v-2.9c2.7-.56 153.39-.53 162.24 0l.17 3.34v51.06h-44.27a2.15 2.15 0 0 0-.89-.25ZM240.11 148.14h2.15v-14H301v14.16l2.19-.14v-16.33c-3.61-.48-61.34-.32-63 .16Z"
        transform="translate(-67.2 -66.99)"
      />
      <path
        className="cls-2"
        d="m1112 152.44-.2-85.42H67.33v5.51h.1c-.44 10.08-.21 82.27.3 83.91v11.89h-.31v35.27h.31v23.74h-.11l.11 60.18h-.4v123h171V400h873v-.28h.74V335h.37V152.44Zm-1042.3 5h3.7v10.89h-3.7Zm0 46.17h3.7v23.74h-3.7ZM274 398h-24.1v-3.68H274Zm34.52 0h-24.11v-3.68h24.13Zm34.4 0H319v-3.68h23.91Zm34.5 0h-24.03v-3.68h24.05Zm34.61 0h-24a25.06 25.06 0 0 0 0-3.68h24Zm34.49 0h-24.1v-3.68h24.12Zm34.52 0h-24.11v-3.68h24.13Zm34.3 0h-23.89v-3.68h23.93c-.02 1.27-.06 2.49-.02 3.68Zm34.66 0h-24.15v-3.68H550Zm34.42 0h-24v-3.68h24.06c-.06 1.25-.08 2.47-.02 3.68Zm34.68 0h-24.19v-3.68h24.23Zm34.41 0h-24v-3.68h24Zm34.52 0H664v-3.68h24.09Zm34.5 0h-24v-3.68h24Zm34.57 0h-24.2v-3.68h24.2Zm34.45 0h-24.02v-3.68h24.06Zm34.5 0H802v-3.68h24.1Zm34.55 0h-24.11c0-.93.06-2.18.09-3.68h24.06Zm34.49 0H871v-3.68h24.15Zm34.42 0h-24v-3.68h24.07c-.04 1.22-.04 2.44-.03 3.68Zm34.64 0h-24.08v-3.68h24.12Zm34.38 0h-24v-3.68h24Zm34.46 0h-24v-3.68h24.06a10.84 10.84 0 0 0-.05 3.68Zm34.64 0h-24.15v-3.68h24.15Zm34.35 0h-23.91v-3.68h23.94c-.01 1.24-.01 2.47-.01 3.68Zm1.91-230.86h-.2V181c-3.59.58-95.15.39-96.79-.15v-25.6h6.88v-2.31l-20.31-.22v-15.06l-2.45.12v15c-7.68.23-15.08-.11-22.49.2v9.38l2.25-.18v-6.87h33.39l-.26 27.09h-33.06v-1h-2.33V199l2.34-.14v-13.79l44.14.19.11 18.38h88.79v23.77h-.17v59h-3l-38.63-.26c-9.65-.06-18.45-2.71-26.13-8.65-10.08-7.8-15.36-18.17-16-30.85-.22-4.07-.09-8.15-.13-12.23 0-.69-.09-1.38-.14-2h-4.39v18.7h-17.95v2.21H1016c1 6 3.43 11.22 6.38 16.52-8.63.05-16.83-.05-25 .06v2.34h2.48c7.28 0 14.56.05 21.84 0a4.28 4.28 0 0 1 3.83 1.81 43.62 43.62 0 0 0 13.58 11.24 47.28 47.28 0 0 0 22.78 5.69q18.72.09 37.44.22c1.42 0 2.84.12 4.49.19v13.84h.13V329h-.18v63.29h-67q-16.5-49.53-33-98.85c-.7 0-1.25-.09-1.8-.08-3.64.05-7.29.16-10.93.17H962.5a9.79 9.79 0 0 0-1.24.17c0 .72.08 1.32.13 2.08H1002c10.79 32.39 21.49 64.48 32.16 96.49H938.3v-6.44l-2.3-.53v-56.47l-2.42.18v56.33l-2.43.62v6.36H836.6c.22-18.25 0-62.9-.47-63.46l-2 .15v63.31h-68.24l.11-82.42h1v-9.21l-1.13-.1.13-4.59 41.88-.23.05-2.07h-81.61v14.11h-7.24c0 .87.09 1.47.13 2.08h9.47L729 296h34.32v4.51h-5.74V310h5.75v75.44l-4.61.27v6.57h-61.08l-.14-84.42H658c0 .79.08 1.39.13 2.17H695.15v82.21H592.28v-82.19h44.33c-.11-1-.18-1.61-.25-2.27h-49.1v84.54h-95.81v-84.5H489c0 14.17 0 28.26.05 42.35s0 27.92 0 42.15h-68.37v-6.45h-7.09v6.45h-25.78a7.22 7.22 0 0 1 .45-2.29q5.83-17.5 11.7-35 4.13-12.39 8.23-24.79a11.08 11.08 0 0 0 .26-1.39 3.28 3.28 0 0 0-2.09-.56c-7.13 21.35-14.23 42.64-21.37 64h-66.81c-.18-.48.19-1 .36-1.55q2.77-8.41 5.58-16.8 6.67-20.1 13.36-40.19a5.55 5.55 0 0 0 .14-.93l-2.07-.6c-6.68 20-13.33 40-20 60.07h-67.42V386h-11.65l-56.23-56.73c2.9-2.89 5.81-5.77 8.65-8.73a83.94 83.94 0 0 1 12.45-10.85 76.81 76.81 0 0 1 28.84-12.4c3-.62 6.07-.92 9.4-1.4h.29v14h9.48l.23-4.62h19.19v-8.92l2.33-.54c-.08-.72-.15-1.38-.22-2h-4.72v9h-16.58c-.11-.76-.21-1.43-.33-2.3h-7v-7.19l-3 .33-1.61.17a79 79 0 0 0-48.85 23.51c-3.35 3.43-6.85 6.7-10.27 10.06l-.08.08-.05-.05-2.53 2.58-1.26 1.28-.42.45 60.13 60.54V400h1v7.53h-165V295.87h68.1L161 318.5l4.31-4.3s-21.79-22.28-21.79-22.37l-5.43-5.45a33.87 33.87 0 0 0 3.08-1.74c2.91-2.1 5.9-4.1 8.6-6.44a41.08 41.08 0 0 0 9.94-13.38 39.35 39.35 0 0 0 4.14-14.17c.43-5.56.39-11.16.53-16.74a15 15 0 0 0-.17-1.92l-4.61.3v2.7c-.1 4.55-.08 9.1-.34 13.64a38.27 38.27 0 0 1-10.7 24.28c-8.38 9-18.94 13.37-31.21 13.47-13 .09-25.9 0-38.86 0-.85 0-1.71-.07-2.84-.12v-58.91h-.24v-23.74c23.18 0 88.66-.13 89-.19v-4.6l.06-13.68c3.09-.53 42.36-.42 44.25.13v13.55H211v-17.55H94.98c-6.44 0-12.73.1-19.27-.09v-12.85h-.28v-11.89h.17V72.53h511.84v43.61h4.61V72.53h169v22.71h-3.2v9.18h3.47s.4 60.84-.14 62.64c-8.39.1-16.83-.09-25.24.1v2.4h24.47v25h-2.8v8.9h2.93v54.44h3.5v-1.37h45.07l.17-.06.3-.14c.06 0 .12-.06.1-.07l5.89-.14 4.72-.12q3.95-.1 7.89-.25c1.28-.05 2.57-.13 3.84-.25l5.47-.54 4.37-.43 2.79-.25c1.72-.14 3.51-.29 5.27-.52 3.14-.41 6.32-.91 9.4-1.39l2-.31 3.69-.56c3.4-.51 6.91-1 10.35-1.7 4.87-.92 10.61-2.06 16.22-3.48 7.33-1.86 14.89-3.92 23.13-6.32 3.35-1 6.72-2.11 10-3.21 1.74-.59 3.49-1.18 5.24-1.75a2.4 2.4 0 0 0 1.85-2.56v-26.12c0-1.06.05-2.15.11-3.21h7.63v-8.75h-9.24v1.91a8.42 8.42 0 0 0-1.26-.12H766.91v-1.72h-2.71V104.4l2.79-.06-.09-9.17-3.32-.06.13-22.58h340.15v82.65h.07Zm-.15 31.27-84.86.18V185h84.75Zm-1028 .26v-13.39l84.76-.27v13.66Zm691.13-.49h162.18a5.49 5.49 0 0 1 1 .1v3c0 .52 0 1-.08 1.56-.06 1.13-.12 2.3-.12 3.47V232.48c0 .41 0 .46-.46.61-1.76.57-3.52 1.16-5.27 1.75-3.23 1.09-6.57 2.22-9.89 3.19a677.03 677.03 0 0 1-23.06 6.3c-5.56 1.41-11.26 2.54-16.1 3.46-3.41.64-6.9 1.17-10.28 1.68l-3.69.56-2 .32c-3.07.47-6.23 1-9.35 1.38-1.71.22-3.47.37-5.18.51l-2.81.25-4.38.43-5.46.54c-1.23.11-2.49.2-3.73.24-2.62.11-5.24.18-7.87.25-1.57.05-3.14.08-4.71.12l-5.9.14a2.23 2.23 0 0 0-.9.27h-44.73v-51H767ZM1110.43 329h-4.5v-23.85h4.5Zm0-101.66h-4.5v-23.75h4.5Zm0-60.23h-4.5v-12h4.5Z"
        transform="translate(-67.2 -66.99)"
      />
    </svg>
  );
};
export default FloorFiveLayout;
