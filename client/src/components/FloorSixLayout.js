import React, { useEffect, useState } from "react";
import desk_map2 from "../utils/FloorSixData";
import "./styles/DashBoard.css";

const FloorSixLayout = ({ setSelectedDeskID, ...props }) => {
  //const [style, setStyles] = useState([]);
  const selectedDesk = props.selectedDesk;
  const [currentDesk, setDesk] = useState();
  const [isLoading, setLoading] = useState(true);

  //const desksOnFloorCount = props.desksOnFloorCount;
  const occupiedDesks = props.occupiedDesks;

  useEffect(() => {
    setDesk(selectedDesk);
    console.log(props.floorData);
    !desk_map2 ? setLoading(true) : setLoading(false);
  }, [selectedDesk]);

  const selectDesk = (e) => {
    setDesk(e.target.attributes.id.value);
    setSelectedDeskID(e.target.attributes.id.value);
  };

  return (
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1170 435" {...props}>
      <defs></defs>

      <g id="Layer_2" data-name="Layer 2">
        <path
          className="room"
          d="m969.89 154.87.07 27.07 33.06.02.26-27.09h-33.39M488.13 391.84H317.25l27.23-84.72-.48-11.37 22.04-.34h93.3l.1 13.98h29.06l-.37 82.45"
        />
        <path
          className="room"
          d="M416.54 193.79V166.83l-114.18-.18v-35.28l-63.03.16-.33 64.35h-29l.23-15.16H74.82V72.07h511.84v94.62H476.38v32.06h-55.75v-4.98l-4.09.02z"
        />
        {!isLoading
          ? desk_map2.map((item) => {
              return (
                <g>
                  <path
                    key={item["id"]}
                    onClick={selectDesk}
                    id={item["id"]}
                    className={
                      currentDesk == item["id"] &&
                      !occupiedDesks.includes(item["id"])
                        ? "selected"
                        : item.style
                    }
                    d={item["d"]}
                    transform={"transform" in item ? item["transform"] : null}
                  >
                    <title className="tooltip">{item["id"]}</title>
                  </path>
                  <circle
                    className="cirlce"
                    cx={item["cx"]}
                    cy={item["cy"]}
                    r={5.25}
                  />
                  <text className="numberings" transform={item["txtTransform"]}>
                    {item["id"]}
                  </text>
                </g>
              );
            })
          : null}
        <path
          style={{
            stroke: "#fff",
            strokeMiterlimit: 10,
            fill: "none",
          }}
          d="M.5.5h1169v434H.5z"
        />

        <path
          className="room"
          d="M352.96 169.17h60.98v27h-60.98zM478.54 169.12h52.67v29.35h-52.79l.12-29.35zM646.83 169.13h47.44v29.2l-47.65-.07.21-29.13z"
        />
        <path
          className="room"
          d="M1015.14 203.64v-5l-75.57.62v3.89h-7.63c-.06 1.06-.11 2.15-.11 3.21v26.12a2.37 2.37 0 0 1-.89 2.07v.13h-.23a3.05 3.05 0 0 1-.73.33c-1.75.57-3.5 1.16-5.24 1.75-3.25 1.1-6.62 2.23-10 3.21-8.24 2.4-15.8 4.46-23.13 6.32-5.61 1.42-11.35 2.56-16.22 3.48-3.44.66-6.95 1.19-10.35 1.7l-3.69.56-2 .31c-3.08.48-6.26 1-9.4 1.39-1.76.23-3.55.38-5.27.52l-2.79.25-4.37.43-5.47.54c-1.27.12-2.56.2-3.84.25q-3.94.15-7.89.25l-4.72.12-5.89.14-.1.07-.3.14-.17.06h-45.06v1.37h-3.5v-1.58h-.07l.07-52.91h-2.93v-8.9h2.78v-25H736v-.29l-38.23-.08-.14 31.9-28.63-.19-.07 3.06-4 .24-.08 42.53h3.41l.42 21.5-136.31.35v-67.09H421.78v2.08H414v52.31h-46.64l-.18-.07h-.56l-.15-.05-.32-.11-5.14-.13-4.55-.11q-3.85-.09-7.69-.24c-1.25 0-2.51-.13-3.75-.25l-5.34-.53-4.25-.42-2.69-.23c-1.69-.14-3.44-.29-5.17-.51-2.27-.3-4.55-.64-6.8-1-2-.25-4-.52-5.94-.83-1.73-.27-3.51-.57-5.41-.92-2.22-.34-4.45-.7-6.66-1.12-4.76-.91-10.36-2-15.81-3.4l-5-1.29c-4.43-1.12-8.85-2.33-13.19-3.6l-.89-.27-3.45-1c-3.28-1-6.56-2.06-9.73-3.13l-2.57-.85c-.65-.21-1.3-.43-2-.63l-2.39-2.74v-25.53c0-1.05-.06-2.12-.11-3.17-2.58.06-5.07-.14-7.67 0v-5l-29 .11h-2.27l-44.31.17v4.44c-.32.05-65.8.18-89 .19v23.74h.24v58.92c1.13.05 2 .12 2.84.12 13 0 25.91.08 38.86 0 12.27-.1 22.83-4.48 31.21-13.47a38.27 38.27 0 0 0 10.7-24.28c.26-4.54.24-9.09.34-13.64v-2.7l4.61-.3a15 15 0 0 1 .17 1.92c-.14 5.58-.1 11.18-.53 16.74a39.35 39.35 0 0 1-4.14 14.17 41.08 41.08 0 0 1-9.94 13.38c-2.7 2.34-5.69 4.34-8.6 6.44a33.87 33.87 0 0 1-3.08 1.74l5.43 5.45c0 .09 21.79 22.37 21.79 22.37l-.05.05 13 13.3.15-.16.05.05.08-.08c3.42-3.36 6.92-6.63 10.27-10.06a79 79 0 0 1 48.85-23.51l1.61-.17 3-.33v7.19h7c.12.87.22 1.54.33 2.3h16.58v-9h4.72v.24h24.34v-.3c16.73 0 50 .21 50 .21v.13h21.69v-.22l95.83-.16v13.94h4.55l259.11.18v-14.07H808v.23l24.14.06v-.31h47.47v.44l21.82.06v-.46h38.24v.57l21.68.06v-.61l42.24-.27-.12-21.27h-6v-2.34c8.18-.11 16.38 0 25-.06-3-5.3-5.42-10.53-6.38-16.52h-18.73v-2.21h17.94v-18.7h4.39c0 .65.13 1.34.14 2 0 4.08-.09 8.16.13 12.23.68 12.68 6 23.05 16 30.85 7.68 5.94 16.48 8.59 26.13 8.65q19.32.11 38.63.26h2.92l.08-25.86v-33.14h.1l.07-23.78Z"
          transform="translate(-.93 -.48)"
        />
        <text className="roomlabel" transform="translate(567.38 293.31)">
          {"KÄYTÄVÄ"}
        </text>
        <text className="roomlabel" transform="translate(314.3 281)">
          {"KÄYTÄVÄ"}
        </text>
        <text className="roomlabel" transform="translate(827.38 281)">
          {"KÄYTÄVÄ"}
        </text>
        <text className="roomlabel" transform="translate(368.43 323.82)">
          {"HILJAINENTYÖ"}
        </text>
        <text className="roomlabelsmaller" transform="translate(548.01 228.18)">
          {"HISSI"}
        </text>
        <text className="roomlabelsmaller" transform="translate(596.36 228.18)">
          {"TAVARAHISSI"}
        </text>
        <text className="roomlabelsmaller" transform="translate(390.99 187.95)">
          {"WC"}
        </text>
        <text className="roomlabelsmaller" transform="translate(497.66 187.95)">
          {"WC"}
        </text>
        <text className="roomlabelsmaller" transform="translate(664.33 187.95)">
          {"WC"}
        </text>
        <text className="roomlabelsmaller" transform="translate(976.99 172.95)">
          {"WC"}
        </text>
        <text className="roomlabel" transform="translate(344.07 140.52)">
          {"MONITILATOIMISTO"}
        </text>
      </g>
      <g id="Layer_1" data-name="Layer 1">
        <path
          className="wall"
          d="M930.16 309.93h9.33v-9.24H930c.09 3.16-.1 6.15.16 9.24ZM930.17 104.44c3.19 0 6.25.15 9.31 0v-9.27h-9.31ZM939.61 295.41v-1.11l-38.23-.11v1.42Z"
          transform="translate(-.93 -.48)"
        />

        <path
          className="wall"
          d="M939.62 293.73h-38.24v.46l38.23.11ZM834.2 295.67v14.26h2.41v-14.11h42.95v-1.69l-47.47-.13v1.63Z"
          transform="translate(-.93 -.48)"
        />
        <path
          className="wall"
          d="M879.56 293.69h-47.47v.31l47.47.13ZM460.27 295.89v7.19c0 2.3-.12 4.58.09 6.79h7c-.06-.8-.1-1.4-.17-2.23h-4.55l-.06-13.49-95.76-.07c0 .38.08 1.18.13 1.81ZM467.21 307.64Z"
          transform="translate(-.93 -.48)"
        />
        <path
          className="wall"
          d="M462.66 307.64V293.7l-95.83.16v.22l95.76.07Z"
          transform="translate(-.93 -.48)"
        />
        <path
          className="wall"
          d="M412.37 310.07a14.1 14.1 0 0 0 2.28.26c1 0 2-.33 3-.38 1.33-.07 2.66 0 4.13 0v-9.24h-9.43ZM421.74 95.15h-9.15v9.14h9.15ZM342.92 296c-.39 6.3 1 12.3-1.44 18.22l2.32.71a16.68 16.68 0 0 0 1.61-7.35c-.13-2.92-.25-12.33-.26-13.54H295.2c.05.68.09 1.26.13 2ZM345.15 293.93s-33.24-.21-50-.21v.3h49.95ZM249.28 95.21h-9.21v9.11h9.21ZM417.23 175.24v-5.8h5.9v-2.36H333v2.51h18.07v26.93l-47.6-.13v-26.77h2.07v-2.53h-4.7v29.36h-51.23c-.13-.76-.24-1.37-.39-2.24h-6.93v-27l-2.3.07v36.44c2.6-.13 5.09.07 7.67 0 .05 1.05.11 2.12.11 3.17V232.38a2.73 2.73 0 0 0 .25 1.29 2.46 2.46 0 0 0 1.56 1.23c.85.27 1.69.56 2.54.85l2.57.85c3.17 1.07 6.45 2.17 9.73 3.13l3.45 1c4.88 1.39 9.54 2.68 14.08 3.87l5 1.29c5.45 1.38 11.05 2.49 15.81 3.4 2.21.42 4.44.78 6.66 1.12l3.44.53 3.58.55 1.87.29 2.46.38c2.25.35 4.53.69 6.8 1 1.73.22 3.48.37 5.17.51l2.69.23 4.25.42 5.34.53c1.24.12 2.5.2 3.75.25q3.84.15 7.69.24l4.55.11 5.14.13h.57a.56.56 0 0 1 .16.07l.17.08h.13l.18.07H414v-52.36h7.75v-9.19h-9l-.57 2.22h-58.29v-26.82h28.66v10h2.38v-10.02h29.94v5.61Zm-5.4 24.16.17 3.34v51.06h-44.26a2.15 2.15 0 0 0-.89-.25l-5.79-.15-4.55-.11c-2.56-.06-5.11-.14-7.67-.24-1.2 0-2.43-.13-3.64-.24l-5.32-.53-4.26-.42-2.71-.24c-1.67-.13-3.4-.28-5.08-.5-3.07-.4-6.19-.89-9.21-1.36l-1.87-.29-3.59-.55c-3.3-.49-6.71-1-10-1.64-4.73-.9-10.3-2-15.69-3.37-7.14-1.8-14.49-3.81-22.48-6.14-3.24-.94-6.5-2-9.65-3.11-1.71-.57-3.42-1.15-5.13-1.7-.43-.14-.44-.19-.43-.57V206.83c0-1.14-.06-2.28-.12-3.39q0-.58-.06-1.14v-2.9c2.69-.56 153.4-.53 162.23 0ZM240.11 148.14h2.15v-14H301v14.16l2.19-.14v-16.33l-63 .16Z"
          transform="translate(-.93 -.48)"
        />
        <path
          className="wall"
          d="M210.08 198.34v-.02l-2.27.01v.01h2.27zM759.52 169.06v-.25l-24.47-.05v.3h24.47z"
        />
        <path
          className="wall"
          d="M764.08 257.9v-1.37h45.07l.17-.06.3-.14c.06 0 .12-.06.1-.07l5.89-.14 4.72-.12q3.95-.1 7.89-.25c1.28-.05 2.57-.13 3.84-.25l5.47-.54 4.37-.43 2.79-.25c1.72-.14 3.51-.29 5.27-.52 3.14-.41 6.32-.91 9.4-1.39l2-.31 3.69-.56c3.4-.51 6.91-1 10.35-1.7 4.87-.92 10.61-2.06 16.22-3.48 7.33-1.86 14.89-3.92 23.13-6.32 3.35-1 6.72-2.11 10-3.21 1.74-.59 3.49-1.18 5.24-1.75a3.05 3.05 0 0 0 .73-.33h-.34l-.38.09-.91.24c-.54.14-1 .26-1.49.41l-6 1.92c-4.12 1.33-8.39 2.72-12.62 4-5.72 1.68-11.57 3.24-17.39 4.63-5 1.19-10.05 2.2-15 3.18l-1.94.39c-4.52.9-8.27 1.58-11.8 2.13-3.86.61-7.83 1.07-11.33 1.48s-7.34.81-11.5 1.2c-2.83.27-5.84.5-9.18.72s-6.26.38-9.1.48c-2 .08-4 .12-6 .16l-4 .1-.21.09-.33.12-.16.05-50.52.21v1.58ZM143.54 291.83l-5.43-5.45 27.17 27.87.05-.05s-21.79-22.28-21.79-22.37Z"
          transform="translate(-.93 -.48)"
        />

        <path
          className="wall"
          d="m1102.83 260.04.1-33.15h-.1v33.15zM1014.38 198.13h-.2l.03 5.03.17-5.03z"
        />
        <path
          className="wall"
          d="M931.82 232.48v-26.12c0-1.06.05-2.15.11-3.21h7.63v-3.89h-.21v3h-8.39v32.28a2.37 2.37 0 0 0 .86-2.06Z"
          transform="translate(-.93 -.48)"
        />
        <path className="wall" d="m725.39 293.23 81.63.22.01-.22h-81.64z" />
        <path
          className="wall"
          d="m1100.76 286.39-38.63-.26c-9.65-.06-18.45-2.71-26.13-8.65-10.08-7.8-15.36-18.17-16-30.85-.22-4.07-.09-8.15-.13-12.23 0-.69-.09-1.38-.14-2h-4.39v18.7h-17.98v2.21H1016c1 6 3.43 11.22 6.38 16.52-8.63.05-16.83-.05-25 .06v2.34h6v-.6l22.43-.75 7.88 8.87 19.75 8.88 50.25-1.25v-1Z"
          transform="translate(-.93 -.48)"
        />
        <path className="wall" d="M269.96 293.26h-4.72v.26h4.71l.01-.26z" />
        <path
          className="wall"
          d="m961.29 294.36 42.19-.56v-.32l-42.24.27s.03.25.05.61Z"
          transform="translate(-.93 -.48)"
        />

        <path
          className="wall"
          d="m1112 152.44-.2-85.42H67.33v343.51h171V400h873v-.28h.74V335h.37V152.44ZM75.81 198.67v-13.39l84.76-.27v13.66Zm-6.08-41.23h3.7v10.89h-3.7Zm0 46.17h3.7v23.74h-3.7ZM274 398h-24.1v-3.68H274Zm34.52 0h-24.11v-3.68h24.13Zm34.4 0H319v-3.68h23.91Zm34.5 0h-24.03v-3.68h24.05Zm34.61 0h-24a25.06 25.06 0 0 0 0-3.68h24Zm34.49 0h-24.1v-3.68h24.12Zm34.52 0h-24.11v-3.68h24.13Zm34.3 0h-23.89v-3.68h23.93c-.02 1.27-.06 2.49-.02 3.68Zm34.66 0h-24.15v-3.68H550Zm34.42 0h-24v-3.68h24.06c-.06 1.25-.08 2.47-.02 3.68Zm34.68 0h-24.19v-3.68h24.23Zm34.41 0h-24v-3.68h24Zm34.52 0H664v-3.68h24.09Zm34.5 0h-24v-3.68h24Zm34.57 0h-24.2v-3.68h24.2Zm34.45 0h-24.02v-3.68h24.06Zm34.5 0H802v-3.68h24.1Zm34.55 0h-24.11c0-.94.06-2.18.09-3.68h24.06Zm34.49 0H871v-3.68h24.15Zm34.42 0h-24v-3.68h24.07c-.04 1.21-.04 2.44-.03 3.68Zm34.64 0h-24.08v-3.68h24.12Zm34.38 0h-24v-3.68h24Zm34.46 0h-24v-3.68h24.06a10.83 10.83 0 0 0-.05 3.68Zm34.64 0h-24.15v-3.68h24.15Zm34.35 0h-23.91v-3.68h23.94c-.01 1.24-.01 2.46-.01 3.68Zm1.91-230.86h-.2V181c-3.59.58-95.15.39-96.79-.15v-25.6h6.88v-2.31l-20.31-.22v-15.06l-2.45.12v15c-7.68.23-15.08-.11-22.49.2v9.38l2.25-.18v-6.87h33.39l-.26 27.09h-33.06v-1h-2.33V199l2.34-.14v-13.79l44.14.19.08 13.35h.19l-.16 5h88.79v23.78h-.07l-.1 33.16v25.86h-.08v1l-50.25 1.25-19.75-8.88-7.88-8.87-22.43.75v.6h18.31a4.28 4.28 0 0 1 3.83 1.81 43.62 43.62 0 0 0 13.58 11.24 47.28 47.28 0 0 0 22.78 5.69q18.72.09 37.44.22c1.42 0 2.84.12 4.49.19v13.84h.13V329h-.18v63.29h-67c-11-33-33-98.85-33-98.85h-.27v.32l-42.19.56c0 .45.06 1.05.09 1.47l40.55-.53c10.79 32.38 21.52 65 32.19 97H938.3v-6.44l-2.3-.52v-56.47l-2.42.18v56.33l-2.43.62v6.36H836.6c.22-18.26 0-62.9-.47-63.46l-2 .15v63.31h-68.24l.11-82.42h1v-9.21l-1.13-.1.13-4.59 41.88-.23v-1.84l-81.63-.23v14.11h-7.24c0 .87.09 1.47.13 2.08h9.47L729 296h34.32v4.51h-5.74V310h5.75v75.44l-4.61.27v6.57h-61.08l-.14-84.42H658c0 .79.08 1.39.13 2.17H695.15v82.21H592.28v-82.19h44.33c-.11-1-.18-1.61-.25-2.27h-49.1v84.54h-95.81v-84.5H489c0 14.17 0 28.26.05 42.35s0 27.91 0 42.15h-68.37v-6.45h-7.09v6.45h-25.78a7.22 7.22 0 0 1 .45-2.29q5.83-17.5 11.7-35 4.13-12.39 8.23-24.79a11.08 11.08 0 0 0 .26-1.39 3.28 3.28 0 0 0-2.09-.56q-10.69 32-21.37 64h-66.81c-.18-.49.19-1 .36-1.55q2.77-8.41 5.58-16.8 6.67-20.1 13.36-40.19a5.55 5.55 0 0 0 .14-.93l-2.07-.6-20 60.07h-67.42V386h-11.65l-56.23-56.73 4.56-4.55c1.37-1.38 2.74-2.77 4.09-4.18a83.94 83.94 0 0 1 12.45-10.85 76.81 76.81 0 0 1 28.84-12.4c2.53-.52 5.11-.82 7.85-1.18l1.55-.22h.29v14h9.48l.23-4.62h19.19v-8.92l2-.24.07-2h-4.71v8.78h-16.55c-.11-.76-.21-1.43-.33-2.3h-7v-7.19l-3 .33-1.61.17a79 79 0 0 0-48.85 23.51c-3.35 3.43-6.85 6.7-10.27 10.06l-.08.08-.05-.05-.15.16-2.38 2.34-1.26 1.28-.42.45 60.13 60.54V400h1v7.53h-165V295.87h68.1L161 318.5l4.26-4.25-27.17-27.87a33.87 33.87 0 0 0 3.08-1.74c2.91-2.1 5.9-4.1 8.6-6.44a41.08 41.08 0 0 0 9.94-13.38 39.35 39.35 0 0 0 4.14-14.17c.43-5.56.39-11.16.53-16.74a15 15 0 0 0-.17-1.92l-4.61.3v2.7c-.1 4.55-.08 9.1-.34 13.64a38.27 38.27 0 0 1-10.7 24.28c-8.38 9-18.94 13.37-31.21 13.47-13 .09-25.9 0-38.86 0-.85 0-1.71-.07-2.84-.12v-58.91h-.24v-23.74c23.18 0 88.66-.14 89-.19V198.82l.06-13.68c3.09-.53 42.36-.42 44.25.13v13.54H211v-17.54H94.98c-6.44 0-12.73.1-19.27-.09v-12.85h-.28v-11.89h.17V72.53h511.84v43.61h4.61V72.53h169v22.71h-3.2v9.18h3.47s.4 60.84-.14 62.64c-8.39.1-16.83-.09-25.24.1v2.11h24.47v25.25h-2.8v8.9h2.93v52.91l50.52-.21.16-.05.33-.12.21-.09 4-.1c2 0 4-.08 6-.16 2.84-.1 5.82-.26 9.1-.48s6.35-.45 9.18-.72c4.16-.39 7.92-.78 11.5-1.2s7.47-.87 11.33-1.48c3.53-.55 7.28-1.23 11.8-2.13l1.94-.39c4.92-1 10-2 15-3.18 5.82-1.39 11.67-2.95 17.39-4.63 4.23-1.24 8.5-2.63 12.62-4l6-1.92c.47-.15.95-.27 1.49-.41l.91-.24.38-.09h.34a1.88 1.88 0 0 0 .23-.16v-32.3h8.39v-3h.21v-4.86h-9.24v1.91a8.42 8.42 0 0 0-1.26-.12H766.91v-1.72h-2.71V104.4l2.79-.06-.09-9.17-3.32-.06.13-22.58h340.15v82.65h.07Zm-.15 31.27-84.86.18V185h84.75Zm-336.84-.23h162.15a5.49 5.49 0 0 1 1 .1v3c0 .52 0 1-.08 1.56-.06 1.13-.12 2.3-.12 3.47V232.48c0 .41 0 .46-.46.61-1.76.57-3.52 1.16-5.27 1.75-3.23 1.09-6.57 2.22-9.89 3.19a677.03 677.03 0 0 1-23.06 6.3c-5.56 1.41-11.26 2.54-16.1 3.46-3.41.64-6.9 1.17-10.28 1.68l-3.69.56-2 .32c-3.07.47-6.23 1-9.35 1.38-1.71.22-3.47.37-5.18.51l-2.81.25-4.38.43-5.46.54c-1.23.11-2.49.2-3.73.24-2.62.11-5.24.18-7.87.25-1.57.05-3.14.08-4.71.12l-5.9.14a2.23 2.23 0 0 0-.9.27h-44.73v-51H767ZM1110.43 329h-4.5v-23.85h4.5Zm0-101.66h-4.5v-23.75h4.5Zm0-60.23h-4.5v-12h4.5Z"
        />

        <path
          className="wall"
          d="M689.63 167.06h-97.58v-29.49h-4.85v29.58H469v2.36h8.12v8.1h2.31v-8h52.67V199h-55.04l.07 2.33s36.72.13 55.21.13v9.44h4.5v-7h50.36v42.2H537l-.15-4.57h-4.47v27l61.89.13c23.92 0 74.45-.15 74.45-.15v-22.1h-3.78v-6.31h-1.45v6.29l-71.18-.33v-42l71.12.07v4.61h1.49v-4.61h4.23v-2.77h28.46l-.13-2.58h-49.93l.21-29.13h47.44v8.13c1-.07 2.55 0 2.55 0v-8.3h16.46v-2.36Zm-153.36 31.62-.14-27.68 51.12-.07v27.82Zm51 65.9-51 .31-.12-13.68h51.12ZM665.05 251v13.9h-72.74c0-.48-.11-.87-.12-1.25V251.1c24.31-.1 48.47-.03 72.86-.1Zm-21.54-52.6-51.25.15v-27.7l51.25-.23Z"
          transform="translate(-.93 -.48)"
        />
      </g>
    </svg>
  );
};
export default FloorSixLayout;
